<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anniinan portfolio</title>
    <link href="config.yml" type="text/yaml" rel="cms-config-url" />
    <script>
        // OAuth Session Injection Fallback
        window.addEventListener("message", (event) => {
            if (typeof event.data === 'string' && event.data.startsWith('authorization:github:success:')) {
                const jsonStr = event.data.replace('authorization:github:success:', '');
                try {
                    const data = JSON.parse(jsonStr);
                    setTimeout(() => {
                        const userData = {
                            backendName: 'github',
                            token: data.token,
                            use_workflow: true
                        };
                        localStorage.setItem('decap-cms-user', JSON.stringify(userData));
                        window.location.href = window.location.pathname + '?auth=success';
                    }, 1000);
                } catch (e) { }
            }
        }, false);
    </script>
</head>

<body>
    <script src="https://unpkg.com/decap-cms@^3.10.0/dist/decap-cms.js"></script>
</body>

</html>